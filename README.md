# coroutine의 개념 정리(정리중)

## 1. 코루틴이란?
  - 코루틴은 비동기적으로 실행되는 코드를 간소화하기 위해 Android에서 사용할 수 있는 동시 실행설계 패턴이다. 루틴과 서브루틴은 비대칭적인 관계지만, 코루틴에서는 완전히 대칭적인 관계로, 서로가 서로를 호출하는 관계다. A와 B의 코루틴이 있다고 가정하면, A를 프로그래밍할때는 B가 서브루틴, B를 프로그래밍할때는 A가 서브루틴이다. 특정 코루틴이 발동될 때마다 해당 코루틴은 이전에 자신의 실행이 마지막으로 중단되었던 지점에서부터 다시 실행을 재개한다.

## 2. 코루틴의 특징
  - 기본옵션으로 협력형이며 병행형으로 동작하지 않는다 (옵션에따라 여러개의 스레드로 분할될수 있음)
  - 스케줄러가 실행시점을 결정하는 것이 아닌 프로그래머나 이벤트에 의해 실행 및 지연, 재개 시점이 결정된다
  - 비선점형 멀티태스크방식 , 동시성을 제공한다
  - 독립적 스택을 가질 수도 있으나 일반적으로 스택을 다시 생성하지 않는다.

## 3. 코루틴을 사용하는 이유
<img width="599" alt="코루틴사용이유" src="https://user-images.githubusercontent.com/61276416/161065311-9c8f00a8-62bf-49bd-a88c-05dff92b714b.png">
<br>
 - 위 사진처럼 프로그램이 있다고 가정해보자. 순차적으로 처리를 진행한다면 이미지가 다운로드되는동안 아래의 Task는 진행되지 않을것이다. <br>
  하지만 코루틴을 사용한다면 이미지를 로드하는 도중에 아래의 별점처리나 애니메이션등 다른 처리를 할 수 있다. <br><br><br><br>


![image](https://user-images.githubusercontent.com/61276416/161063542-5481c98c-656f-4c3c-baf8-0458ed545bfd.png)
<br>
  - 위 사진처럼 코루틴을 이용하면 loadFromNetwork(url)의 url결과를 받을 때까지 처리를 지연 대기시키고 show()를 실행시킨뒤 url결과를 받으면 다시 resume되어 result를 반영할 수 있다.
